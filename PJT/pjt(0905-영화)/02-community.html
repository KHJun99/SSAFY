<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Bootstrap demo</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Story+Script&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
  <style>
    * {
      font-family: "Story Script", sans-serif;
    }

    .story-script-regular {
      font-family: "Story Script", sans-serif;
      font-weight: 400;
      font-style: normal;
    }

    .navbar {
      position: sticky;
      top: 0;
      z-index: 1;
    }

    .nav-link {
      color: white;
    }

    h1 {
      text-align: center;
    }

    /* 테이블 관련 요소들만 일반 폰트 */
    section .table th,
    section .table td {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif !important;
    }

    table * {
      font-family: "Malgun Gothic", sans-serif !important;
    }

    /* 테이블 고정 레이아웃 */
    .table {
      table-layout: fixed;
      width: 100%;
    }

    .table th:nth-child(1),
    .table td:nth-child(1) {
      width: 25%;
    }

    .table th:nth-child(2),
    .table td:nth-child(2) {
      width: 40%;
    }

    .table th:nth-child(3),
    .table td:nth-child(3) {
      width: 20%;
    }

    .table th:nth-child(4),
    .table td:nth-child(4) {
      width: 15%;
    }

    .table td {
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    @media (max-width: 991px) {
      thead {
        display: none;
      }

      th {
        display: none;
      }

      tr {
        margin-top: 2rem;
        display: flex;
        flex-wrap: wrap;
        background-color: white;
        border-top: 0.3px solid lightgray;
      }

      .author {
        font-weight: lighter;
        font-size: small;
        order: 2;
        border: none;
        margin-top: 20px;
      }

      .post-title {
        font-size: x-large;
        display: flex;
        margin-top: 20px;
        padding-top: 5px;
        order: 1;
        flex: 1;
        border: none;
      }

      .movie-title {
        display: flex;
        order: 3;
        width: 100%;
        flex-basis: 100%;
        /* 새 줄로 이동 */
        border: none;
      }

      .time {
        order: 4;
        width: 100%;
        flex-basis: 100%;
        /* 새 줄로 이동 */
        border: none;
      }

      .table-white {
        background-color: white;
      }

      .table-secondary .table-white {
        background-color: white;
      }

      ::selection {
        display: flex;
        flex-direction: column;
        align-items: center;
      }
    }
  </style>
</head>

<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg bg-dark">
    <div class="container-fluid">
      <img src="images/logo.png" width="100" alt="logo">
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
        <ul class="navbar-nav ms-auto align-items-end align-items-lg-center text-end">
          <li class="nav-item">
            <a class="nav-link" href="01-home.html">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="02-community.html">Community</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#loginModal">Login</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Modal -->
  <div class="modal" id="loginModal" tabindex="-1">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Login</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form>
            <div class="mb-3">
              <label for="exampleFormControlInput1" class="form-label">ID</label>
              <input type="email" class="form-control" id="exampleFormControlInput1" placeholder="name@example.com">
            </div>
            We'll never share your email with anyone else. <br><br>
            <div class="mb-3">
              <label for="exampleFormControlTextarea1" class="form-label">Password</label>
              <input type="password" class="form-control" id="exampleFormControlInput1">
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Submit</button>
        </div>
      </div>
    </div>
  </div>

  <div class="container">
    <h1 style="margin:2rem">Community</h1>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
      crossorigin="anonymous"></script>
    <div class="row">
      <aside class="col-lg-2">
        <ul class="list-group">
          <li class="list-group-item">Box Office</li>
          <li class="list-group-item">Movies</li>
          <li class="list-group-item">Genres</li>
          <li class="list-group-item">Actors</li>
        </ul>
      </aside>

      <section class="col-lg-10">
        <table class="table">
          <thead>
            <tr>
              <th class="table-default" scope="col">Movie Title</th>
              <th class="table-default" scope="col">Article Title</th>
              <th class="table-default" scope="col">Author</th>
              <th class="table-default" scope="col">Written time</th>
            </tr>
          </thead>
          <tbody id="tableBody">
            <!-- 데이터는 JavaScript로 로드됩니다 -->
          </tbody>
        </table>
      </section>

      <pagination>
        <nav aria-label="Page navigation">
          <ul class="pagination justify-content-center" id="pagination">
            <!-- 페이지네이션은 JavaScript로 생성됩니다 -->
          </ul>
        </nav>
      </pagination>
    </div>
  </div>

  <script>
    // 영화 커뮤니티 데이터
    const moviePosts = [
      // 페이지 1
      { movie: "Oppenheimer", title: "IMAX vs Standard 차이점", author: "영화덕후", time: "5 minutes ago" },
      { movie: "Spider-Man: No Way Home", title: "멀티버스 완벽 정리", author: "마블팬", time: "15 minutes ago" },
      { movie: "Top Gun: Maverick", title: "실제 전투기 촬영 비하인드", author: "항공덕후", time: "32 minutes ago" },
      { movie: "Avatar 2", title: "수중 촬영 기술 혁신", author: "tech_lover", time: "1 hour ago" },
      { movie: "The Batman", title: "새로운 배트맨의 매력", author: "DC팬", time: "1 hour ago" },
      { movie: "Dune", title: "원작과의 차이점 분석", author: "SF소설가", time: "2 hours ago" },
      { movie: "No Time to Die", title: "007 시리즈 완결편", author: "bond_fan", time: "3 hours ago" },
      { movie: "Eternals", title: "MCU 새 히어로들", author: "comic_nerd", time: "4 hours ago" },
      { movie: "Black Widow", title: "나타샤의 과거 이야기", author: "widow_fan", time: "5 hours ago" },
      
      // 페이지 2
      { movie: "Fast X", title: "패스트 시리즈의 마지막?", author: "속도광", time: "1 day ago" },
      { movie: "John Wick 4", title: "액션 시퀀스 분석", author: "액션덕후", time: "1 day ago" },
      { movie: "Scream VI", title: "공포 영화 새 트렌드", author: "호러마니아", time: "1 day ago" },
      { movie: "Ant-Man 3", title: "퀀텀 렐름의 비밀", author: "quantum_fan", time: "1 day ago" },
      { movie: "Creed III", title: "록키 없는 크리드", author: "복싱팬", time: "1 day ago" },
      { movie: "Little Mermaid", title: "실사화 성공 요인", author: "디즈니덕후", time: "1 day ago" },
      { movie: "Guardians 3", title: "은하수 호위대 마지막", author: "우주덕후", time: "1 day ago" },
      { movie: "Indiana Jones 5", title: "인디의 마지막 모험", author: "archaeology", time: "1 day ago" },
      { movie: "Transformers 7", title: "로봇 액션의 진화", author: "로봇덕후", time: "1 day ago" },
      
      // 페이지 3
      { movie: "The Flash", title: "DC 멀티버스 해설", author: "speedster", time: "3 days ago" },
      { movie: "Barbie", title: "핑크 판타지의 의미", author: "pink_lover", time: "3 days ago" },
      { movie: "Mission Impossible 7", title: "톰 크루즈 극한 스턴트", author: "stunt_master", time: "4 days ago" },
      { movie: "Spider-Verse 2", title: "애니메이션 새 차원", author: "animation_geek", time: "4 days ago" },
      { movie: "The Marvels", title: "여성 히어로 팀업", author: "marvel_woman", time: "5 days ago" },
      { movie: "Aquaman 2", title: "바다 모험의 완성", author: "ocean_explorer", time: "5 days ago" },
      { movie: "Deadpool 3", title: "R등급 MCU 진출", author: "mature_fan", time: "6 days ago" },
      { movie: "Captain Marvel 2", title: "우주 최강자의 도전", author: "cosmic_power", time: "6 days ago" },
      { movie: "Thor 5", title: "천둥신 아스가르드 귀환", author: "nordic_myth", time: "1 week ago" }
    ];

    let currentPage = 1;
    const postsPerPage = 9;

    function displayPosts(page = 1) {
      const startIndex = (page - 1) * postsPerPage;
      const endIndex = startIndex + postsPerPage;
      const postsToShow = moviePosts.slice(startIndex, endIndex);
      
      const tableBody = document.getElementById('tableBody');
      tableBody.innerHTML = '';
      
      postsToShow.forEach((post, index) => {
        const row = document.createElement('tr');
        row.className = (startIndex + index) % 2 === 1 ? 'table-secondary' : '';
        row.innerHTML = `
          <td scope="row" class="table-white movie-title">${post.movie}</td>
          <td class="table-white post-title">${post.title}</td>
          <td class="table-white author">${post.author}</td>
          <td class="table-white time">${post.time}</td>
        `;
        tableBody.appendChild(row);
      });
    }

    function createPagination() {
      const totalPages = Math.ceil(moviePosts.length / postsPerPage);
      const pagination = document.getElementById('pagination');
      pagination.innerHTML = '';
      
      // Previous 버튼
      const prevItem = document.createElement('li');
      prevItem.className = `page-item ${currentPage === 1 ? 'disabled' : ''}`;
      prevItem.innerHTML = `<a class="page-link" href="#" onclick="changePage(${currentPage - 1})">Previous</a>`;
      pagination.appendChild(prevItem);
      
      // 페이지 번호들
      for (let i = 1; i <= totalPages; i++) {
        const pageItem = document.createElement('li');
        pageItem.className = `page-item ${i === currentPage ? 'active' : ''}`;
        pageItem.innerHTML = `<a class="page-link" href="#" onclick="changePage(${i})">${i}</a>`;
        pagination.appendChild(pageItem);
      }
      
      // Next 버튼
      const nextItem = document.createElement('li');
      nextItem.className = `page-item ${currentPage === totalPages ? 'disabled' : ''}`;
      nextItem.innerHTML = `<a class="page-link" href="#" onclick="changePage(${currentPage + 1})">Next</a>`;
      pagination.appendChild(nextItem);
    }

    function changePage(page) {
      const totalPages = Math.ceil(moviePosts.length / postsPerPage);
      if (page < 1 || page > totalPages) return;
      
      currentPage = page;
      displayPosts(currentPage);
      createPagination();
    }

    // 페이지 로드 시 초기화
    document.addEventListener('DOMContentLoaded', function() {
      displayPosts(1);
      createPagination();
    });
  </script>
</body>

</html>